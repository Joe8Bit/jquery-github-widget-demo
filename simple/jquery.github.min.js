/*
 * jQuery Github Widget
 * Author: Joe Pettersson, @Joe8Bit
 * http://www.joepettersson.com/jquery-github-widget/
 * https://github.com/JoePettersson/jquery-github-widget/
 * Licensed under the MIT license
 * Version: 1.0
 *
 * Options:
 * 		user: [String] the username of the user for whom we're building the widget
 * 		show_extended_info: [Boolean] when someone hovers over the avatar, more detailed user info is shown
 * 		show_follows: [Boolean] show the number of followers a user has in the widget header
 * 		width: [String] a CSS compliant value representing a width (px/%/em/pt)
 * 		show_repos: [Number] The number of repos that should be displayed
 * 		oldest_first: [Boolean] The default is to show the most recent repo first, set this to true to show the oldest first
 * 		
 */(function(e,t,n,r){"use strict";function o(t,n){this.element=t,this.options=e.extend({},s,n),this.init()}var i="github",s={user:"joepettersson",show_extended_info:!0,show_follows:!0,width:"400px",show_repos:10,oldest_first:!1};o.prototype={init:function(){var t=this.element,n=this.options,r=this.model("user",n.user,function(r){e(t).append(o.prototype.view_layout(r.data,n))}),i=this.model("repos",n.user,function(r){e(t).find("#repos ul").append(o.prototype.view_partial_repos(r,n,t)),e(t).find("#repos #github-loader").slideUp(250,function(){e(t).find("#repos ul").slideDown(250)}),o.prototype.bind(n)})},model:function(t,n,r){var i="https://api.github.com/users/"+n.toLowerCase();t==="repos"&&(i+="/repos"),i+="?callback=?",e.getJSON(i,function(e){typeof r!="undefined"&&typeof r=="function"&&r(e)})},view_layout:function(e,t){var n="";return n+='<div id="github" style="width: '+t.width+'">',n+='<div id="header" class="clear">',n+='<div id="logo"><a href="https://github.com/">Github</a></div>',n+='<div id="user"><a href="'+e.html_url+'" id="github-user">',typeof e.avatar_url!="undefined"&&e.avatar_url.length>0?n+='<img src="'+e.avatar_url+'" alt="Avatar" width="34px" height="34px" />':n+='<img src="https://a248.e.akamai.net/assets.github.com/images/gravatars/gravatar-140.png" alt="Avatar" width="34px" height="34px" />',n+="</a></div>",t.show_extended_info===!0&&(n+='<div id="extended-user-info">',typeof e.name!="undefined"&&e.name.length>0&&(n+='<p class="name">'+e.name+"</p>"),n+='<p class="place">',typeof e.company!="undefined"&&e.company.length>0&&(n+=e.company+" "),typeof e.location!="undefined"&&e.location.length>0&&(n+=e.location),n+="</p>",typeof e.bio!="undefined"&&e.bio.length>0&&(n+='<p class="bio">'+e.bio+"</p>"),e.hireable===!0&&(n+='<p class="hireable">I\'m availabe for hire!</p>'),n+='<span class="repos">'+e.public_repos+" repos</span>",n+='<span class="gists">'+e.public_gists+" gists</span>",n+="</div>"),n+='<div id="github-user-data">',n+='<h2><a href="'+e.html_url+'">'+e.login+"</a></h2>",n+='<a href="'+e.html_url+'" id="header-total-repos">'+e.public_repos+" repos</a>",t.show_follows===!0&&(n+=' | <a href="https://github.com/'+e.login.toLowerCase()+'/followers" id="current-followers">'+e.followers+" followers</a>"),n+="</div>",n+="</div>",n+='<div id="repos"><div id="github-loader"></div><ul></ul></div>',n+="</div>",n},view_partial_repos:function(t,n,r){var i="";if(n.oldest_first===!0)var t=t.data.reverse();else var t=t.data;return e.each(t,function(e){e<=n.show_repos-1&&(i+='<li id="repo-'+e+'" class="clear repo',this.language!==null&&(i+=" double"),i+='">',i+='<div class="left">',i+='<p class="title"><a href="'+this.html_url+'" data-description="<p>'+this.name+"</p>"+this.description+'" class="github-tooltip">'+this.name+"</a></p>",i+='<p class="meta-data">',this.language!==null&&(i+='<span class="language">'+this.language+"</span></p>"),i+="</div>",i+='<div class="right">',i+='<span class="forks github-tooltip" data-description="This repo has '+this.forks+' fork(s)">'+this.forks+"</span>",i+='<span class="watchers github-tooltip" data-description="This repo has '+this.watchers+' watcher(s)">'+this.watchers+"</span>",i+='<span class="issues github-tooltip" data-description="This project has '+this.open_issues+' open issues">'+this.open_issues+"</span>",i+="</div>",i+="</li>")}),i},bind:function(t){t.show_extended_info===!0&&e("#github-user").hover(function(){e("#github #header #extended-user-info").fadeIn(250,function(){e("#github #header img").addClass("no-bottom-border")})},function(){e("#github #header #extended-user-info").fadeOut(250,function(){e("#github #header img").removeClass("no-bottom-border")})}),e("#github li").hover(function(){e(this).find(".right").animate({opacity:1},200)},function(){e(this).find(".right").animate({opacity:.3},200)}),e(".github-tooltip").hover(function(){var t='<div class="github-tooltip-content">'+e(this).attr("data-description")+"</div>";e(this).append(t)},function(){e(".github-tooltip-content").remove()})}},e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))})}})(jQuery,window,document);j